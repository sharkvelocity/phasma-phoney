<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PhasmaPhoney</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="author" content="Shark-Blades" />
  <meta name="description" content="Turn-based ghost hunting strategy game based on Phasmophobia." />
  <meta name="keywords" content="PhasmaPhoney, Phasmophobia, ghost, game, ADA, investigation" />
  <meta property="og:type" content="game" />
  <meta property="og:site_name" content="PhasmaPhoney" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      background: #000;
      font-family: monospace;
      color: #0ff;
      overflow: hidden;
    }
    #flash-overlay, #orb-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
    }
    #flash-overlay {
      background: white;
      opacity: 0;
      z-index: 9999;
    }
    #orb-canvas { 
      z-index: 199; 
      background-repeat: repeat-x;
      background-size: cover;
    }
    #background-logo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("./logo.png") center center no-repeat;
      background-size: contain;
      opacity: 0.1;
      z-index: -4;
    }
    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      text-align: center;
      padding: 10px 0;
      font-size: 0.9em;
      color: #0ff;
      background: #000;
      z-index: 3000;
    }
    button {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      font-family: monospace;
      background: #111;
      color: #0ff;
      border: 1px solid #0ff;
      padding: 6px 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>
<div id="flash-overlay"></div>
<div id="background-logo"></div>
<canvas id="orb-canvas"></canvas>
  
<!-- Title Screen -->
<div id="title-screen" style="position:fixed;top:0;left:0;width:100vw;height:100vh;
  background:black;display:flex;flex-direction:column;align-items:center;justify-content:center;
  z-index:5000;">
  <img src="./logo.png" alt="PhasmaPhoney" style="max-width:80%;margin-bottom:30px;" />
  <button onclick="showLoadoutMenu()">Start Investigation</button>
  <p style="margin-top:10px;font-style:italic;">‚ÄúHave Fun‚Äù</p>
</div>

<!-- Loadout Screen -->
<div id="loadout-screen" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;
  background:#000;color:#0ff;z-index:5001;padding:20px;font-family:monospace;overflow-y:auto;">
  <h2 style="text-align:center;">Select Your Loadout (Pick 3 Items)</h2>
  <div id="item-selection" style="display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin:20px 0;"></div>
  <div style="text-align:center;margin-top:20px;">
    <button onclick="confirmLoadout()" style="padding:10px 20px;font-size:16px;">Confirm</button>
  </div>
</div>

<!-- ADA Modal -->
<div id="ada-modal" style="display:none;position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%);z-index:4999;background:#111;padding:20px;
  border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,0.8);width:90%;
  max-width:600px;height:80%;color:#0ff;font-family:monospace;display:flex;
  flex-direction:column;align-items:center;"> 

  <div id="room-label" style="margin-bottom:6px;font-weight:bold;">
    Current room: <span id="room-name">Van</span>
  </div>

  <div id="ada-log" style="height:70%;overflow-y:auto;padding:10px;
    background:#000;border:1px solid #333;margin-bottom:10px;width:100%;">
    Investigation started.
  </div>

  <div id="ada-buttons" style="display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin-bottom:10px;">
    <button onclick="handleAdaCommand('map')">üó∫ Map</button>
    <button onclick="openItemUsePopup()">üéí Use Item</button>
    <button onclick="handleAdaCommand('inventory')">üì¶ Inventory</button>
    <button onclick="openGuess()">üëª Guess Ghost</button>
    <button onclick="handleAdaCommand('end')">üö´ End</button>
  </div>

 <div id="compass-controls" style="margin-bottom:10px;display:flex;flex-direction:column;align-items:center;">
    <!-- Directional control with clear visual feedback -->
    <div style="display: flex; flex-direction: column; align-items: center;">
        <!-- Move Up -->
        <button onclick="move('up')" style="font-size: 24px; padding: 10px 20px; margin: 5px; background-color: #333; color: #0ff; border: 2px solid #0ff; border-radius: 5px; cursor: pointer; transition: transform 0.2s;">
            ‚¨ÜÔ∏è
        </button>
    </div>

    <div style="display: flex; gap: 10px; margin-top: 4px;">
        <!-- Move Left -->
        <button onclick="move('left')" style="font-size: 24px; padding: 10px 20px; background-color: #333; color: #0ff; border: 2px solid #0ff; border-radius: 5px; cursor: pointer; transition: transform 0.2s;">
            ‚¨ÖÔ∏è
        </button>
        <!-- Move Right -->
        <button onclick="move('right')" style="font-size: 24px; padding: 10px 20px; background-color: #333; color: #0ff; border: 2px solid #0ff; border-radius: 5px; cursor: pointer; transition: transform 0.2s;">
            ‚û°Ô∏è
        </button>
    </div>

    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 4px;">
        <!-- Move Down -->
        <button onclick="move('down')" style="font-size: 24px; padding: 10px 20px; margin: 5px; background-color: #333; color: #0ff; border: 2px solid #0ff; border-radius: 5px; cursor: pointer; transition: transform 0.2s;">
            ‚¨áÔ∏è
        </button>
    </div>

    <!-- Status Indicators (Sanity or other status bars can be added) -->
    <div id="status-bar" style="margin-top: 20px; font-size: 18px; color: #0ff;">
        Turn: <span id="turn-counter">0</span> | Sanity: <span id="sanity-bar">100</span>%
    </div>
 </div>
</div>

<!-- Item Use Popup -->
<div id="item-use-popup" style="display:none;position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%);background:#111;padding:20px;border-radius:10px;
  border:2px solid #0ff;z-index:10000;width:90%;max-width:400px;">
  <h2 style="color:#0ff;text-align:center;">Select an item to use</h2>
  <div id="item-use-list" style="margin-top:12px;display:flex;flex-direction:column;gap:8px;"></div>
  <button onclick="closeItemUsePopup()" style="margin-top:12px;background:#000;
    border:1px solid #0ff;color:#0ff;padding:6px 12px;cursor:pointer;">Cancel</button>
</div>

<!-- Ghost Guessing Modal -->
<div id="guess-popup" style="display:none;position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%);background:#111;padding:20px;border-radius:10px;
  border:2px solid #0ff;z-index:10000;width:90%;max-width:600px;">
  <h2 style="color:#0ff;text-align:center;">Who do you think the ghost is?</h2>
  <div id="guess-list" style="max-height:300px;overflow-y:auto;display:grid;
    grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:6px;margin-top:12px;"></div>
  <button onclick="closeGuess()" style="margin-top:12px;background:#000;
    border:1px solid #0ff;color:#0ff;padding:6px 12px;cursor:pointer;">Cancel</button>
</div>

<!-- End Screen -->
<div id="end-screen" style="display:none;position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%);background:#111;padding:20px;border-radius:10px;
  border:2px solid #0ff;z-index:10000;width:90%;max-width:500px;text-align:center;
  font-family:monospace;color:#0ff;">
  <div id="end-message" style="margin-bottom:16px;"></div>
  <button onclick="startNewGame()" style="background:#000;border:1px solid #0ff;
    color:#0ff;padding:6px 16px;cursor:pointer;">üîÅ Start New Game</button>
</div>

<script>
// === Game Data ===
const allLoadoutItems = [
  "EMF", "Spirit Box", "Thermometer", "Crucifix", "Salt",
  "Smudge", "Camera", "UV Light", "D.O.T.S", "Ghost Writing Book", "Motion Sensor"
];

const evidenceTypes = [
  "EMF Level 5", "Spirit Box", "Fingerprints",
  "Ghost Writing", "Freezing Temps", "D.O.T.S", "Orbs"
];

const game = {
  started: false,
  active: false,
  turn: 0,
  sanity: 100,
  inventory: ["Notebook", "Lighter"],
  vanStock: {},
  usedItems: [],
  ghost: null,
  ghostRoom: "Living Room",
  position: [0, 0],
  evidence: [],
  guessedGhost: null,
  mimicForm: null,
  nextMimicShift: 0,
  roomNameMap: [
    ["Van", "Foyer", "Kitchen"],
    ["Basement", "Living Room", "Bathroom"],
    ["Garage", "Bedroom", "Storage"]
  ],
  protections: {
    smudgeCount: 2,
    crucifixPlaced: false
  },
  events: [],
  journal: []
};
<script>
// Evidence behaviors for all types (subtle clues)
const evidenceBehaviors = {
  "Spirit Box": [
    { behavior: "You hear faint static buzzing in the air, like a distant radio, but nothing you can quite catch." },
    { behavior: "There's an unsettling silence, but something about the air feels charged, like it's waiting." },
    { behavior: "A soft whisper seems to echo in your ears, too quiet to decipher but present enough to cause discomfort." }
  ],

  "Ghost Writing": [
    { behavior: "You feel the faintest brush of air, like something moved through the space, but there‚Äôs nothing there." },
    { behavior: "A distant scribble sound echoes softly, almost like the rustling of paper in a quiet room." },
    { behavior: "You hear a scratching noise that seems to come from nowhere, leaving the room feeling colder." }
  ],

  "EMF Level 5": [
    { behavior: "The hairs on your neck stand up, as though something is nearby, but you can‚Äôt quite place it." },
    { behavior: "A sudden wave of unease washes over you, but it‚Äôs hard to pinpoint the cause." },
    { behavior: "The air feels dense around you, and you can‚Äôt shake the feeling that something's interfering with your senses." }
  ],

  "D.O.T.S": [
    { behavior: "You feel a shift in the room, like a flicker in the corner of your eye, but when you look, nothing is there." },
    { behavior: "There‚Äôs a strange energy in the air, as though something is lurking just beyond your perception." },
    { behavior: "A subtle shimmer, almost imperceptible, brushes the edges of your vision, but it's gone before you can focus." }
  ],

  "Fingerprints": [
    { behavior: "A strange texture seems to linger on the surface near you, though nothing is physically present." },
    { behavior: "You feel a cold sensation brush past you, as though someone just touched the surface, but no one is near." },
    { behavior: "There‚Äôs a subtle residue, like something left a mark, but it‚Äôs too faint to make out." }
  ],

  "Orbs": [
    { behavior: "A strange shift in the atmosphere leaves you feeling uneasy, but you can‚Äôt pinpoint the cause." },
    { behavior: "There‚Äôs an odd sensation in the air, like something brushed past you, but there‚Äôs nothing visible." },
    { behavior: "You feel a subtle change in temperature, like a cold draft, but there‚Äôs no apparent source of the breeze." }
  ],

  "Freezing Temps": [
    { behavior: "A chill begins to settle in the air, creeping slowly and making the room feel unnaturally cold." },
    { behavior: "The temperature drops so suddenly, it feels like the room‚Äôs temperature has plummeted for no reason." },
    { behavior: "You shiver, a coldness creeping along your skin, though no visible source of the chill is found." }
  ]
};

// Ghost Profiles with linked evidence types and their behaviors
const ghostProfiles = {
  spirit: { evidence: ["Spirit Box", "Ghost Writing", "EMF Level 5"] },
  wraith: { evidence: ["Spirit Box", "D.O.T.S", "EMF Level 5"] },
  poltergeist: { evidence: ["Spirit Box", "Ghost Writing", "Fingerprints"] },
  banshee: { evidence: ["D.O.T.S", "Fingerprints", "Orbs"] },
  jinn: { evidence: ["EMF Level 5", "Freezing Temps", "Fingerprints"] },
  mare: { evidence: ["Spirit Box", "Ghost Writing", "Orbs"] },
  revenant: { evidence: ["Ghost Writing", "Orbs", "Freezing Temps"] },
  shade: { evidence: ["Ghost Writing", "Freezing Temps", "EMF Level 5"] },
  demon: { evidence: ["Freezing Temps", "Ghost Writing", "Fingerprints"] },
  yurei: { evidence: ["Freezing Temps", "D.O.T.S", "Orbs"] },
  oni: { evidence: ["EMF Level 5", "Freezing Temps", "D.O.T.S"] },
  yokai: { evidence: ["Spirit Box", "D.O.T.S", "Orbs"] },
  hantu: { evidence: ["Freezing Temps", "Ghost Writing", "Fingerprints"] },
  goryo: { evidence: ["EMF Level 5", "D.O.T.S", "Fingerprints"] },
  myling: { evidence: ["Ghost Writing", "EMF Level 5", "Fingerprints"] },
  onryo: { evidence: ["Freezing Temps", "Spirit Box", "Orbs"] },
  "the twins": { evidence: ["Spirit Box", "Freezing Temps", "EMF Level 5"] },
  raiju: { evidence: ["EMF Level 5", "D.O.T.S", "Orbs"] },
  obake: { evidence: ["EMF Level 5", "Orbs", "Fingerprints"] },
  "the mimic": { evidence: ["Spirit Box", "Freezing Temps", "Fingerprints"] },
  moroi: { evidence: ["Freezing Temps", "Ghost Writing", "Spirit Box"] },
  deogen: { evidence: ["Spirit Box", "Ghost Writing", "D.O.T.S"] },
  thaye: { evidence: ["Ghost Writing", "Orbs", "D.O.T.S"] },
  phantom: { evidence: ["Spirit Box", "D.O.T.S", "Fingerprints"] },
  succubus: { evidence: ["Ghost Writing", "Orbs", "Spirit Box"] }
};

// Function to retrieve behaviors for a given ghost's evidence
function getEvidenceBehaviors(ghost) {
  const ghostData = ghostProfiles[ghost];
  if (!ghostData) return [];

  return ghostData.evidence.map(evidenceType => evidenceBehaviors[evidenceType]);
}
</script>
<script>
// === Show Loadout Screen ===
function showLoadoutMenu() {
  const container = document.getElementById("item-selection");
  container.innerHTML = "";
  allLoadoutItems.forEach(item => {
    const label = document.createElement("label");
    label.style = "color:#0ff;font-family:monospace;";
    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.value = item;
    checkbox.onchange = limitLoadoutCheck;
    label.appendChild(checkbox);
    label.append(" " + item);
    container.appendChild(label);
  });
  document.getElementById("title-screen").style.display = "none";  // Hide title screen
  document.getElementById("loadout-screen").style.display = "block";  // Show loadout screen
}

// === Loadout Check Limit ===
function limitLoadoutCheck() {
  const selected = document.querySelectorAll('#item-selection input:checked');
  if (selected.length > 3) this.checked = false;
}

// === Confirm Loadout ===
function confirmLoadout() {
  const selected = Array.from(document.querySelectorAll('#item-selection input:checked'));
  if (selected.length > 3) return alert("Max 3 items.");

  game.inventory = selected.map(cb => cb.value).concat("Notebook", "Lighter");

  const remaining = allLoadoutItems.filter(i => !game.inventory.includes(i));
  game.vanStock = {};
  remaining.forEach(name => {
    game.vanStock[name] = (name === "Smudge" ? 4 : name === "Salt" ? 3 : 1);
  });

  document.getElementById("loadout-screen").style.display = "none";
  startInvestigation();
}

// === Start Investigation ===
function startInvestigation() {
  game.started = true;
  game.active = true;
  game.turn = 0;
  game.sanity = 100;
  const keys = Object.keys(ghostProfiles);
  game.ghost = keys[Math.floor(Math.random() * keys.length)];
  game.ghostRoom = game.roomNameMap[1][1];
  game.position = [0, 0];

  if (game.ghost === "the mimic") {
    const pool = keys.filter(g => g !== "the mimic");
    game.mimicForm = pool[Math.floor(Math.random() * pool.length)];
    game.nextMimicShift = 3 + Math.floor(Math.random() * 4);
    simulateTyping("Deo: I suspect a Mimic... watch for shifting signs.");
  }

  document.getElementById("ada-modal").style.display = "flex";
  simulateTyping(introDialogues[Math.floor(Math.random() * introDialogues.length)], "Deo");
  updateStatus();
  updateRoomLabel();
}

// === Movement ===
function move(dir) {
  let [x, y] = game.position;
  if (dir === 'up') x = Math.max(0, x - 1);
  if (dir === 'down') x = Math.min(2, x + 1);
  if (dir === 'left') y = Math.max(0, y - 1);
  if (dir === 'right') y = Math.min(2, y + 1);
  game.position = [x, y];
  updateRoomLabel();

  const room = game.roomNameMap[x][y];
  const isGhostRoom = room === game.ghostRoom;
  const profile = (game.ghost === "the mimic" && game.mimicForm)
    ? ghostProfiles[game.mimicForm]
    : ghostProfiles[game.ghost];
  const activity = isGhostRoom ? profile.behavior : "You feel watched, but nothing happens.";

  simulateTyping(`You moved to ${room}. ${activity}`);
  advanceTurn();
}

// === Update Room Label ===
function updateRoomLabel() {
  const [x, y] = game.position;
  document.getElementById("room-name").textContent = game.roomNameMap[x][y];
}

// === Simulate ADA Typing ===
function simulateTyping(text, from = "ADA") {
  const log = document.getElementById("ada-log");
  const line = document.createElement("div");
  line.innerHTML = `<strong>${from}:</strong> <span>${text}</span>`;
  log.appendChild(line);
  log.scrollTop = log.scrollHeight;
}

// === Handle ADA Commands ===
function handleAdaCommand(cmd) {
  simulateTyping("> " + cmd, "You");

  if (cmd.toLowerCase().startsWith("add evidence ")) {
    const ev = cmd.slice(13).trim();
    if (!evidenceTypes.includes(ev)) {
      simulateTyping("Unknown evidence type. Try: " + evidenceTypes.join(", "));
      return;
    }
    if (!game.evidence.includes(ev)) {
      game.evidence.push(ev);
      simulateTyping("Evidence added: " + ev);
    } else {
      simulateTyping("Evidence already recorded.");
    }

    const matches = getPossibleGhosts();
    simulateTyping(matches.length === 0
      ? "No ghost matches all current evidence."
      : `Possible ghost${matches.length > 1 ? "s" : ""}: ${matches.join(", ")}`);

    if (game.sanity <= 50) simulateTyping("‚ö†Ô∏è Your sanity is getting low...");
    advanceTurn();
    return;
  }


  setTimeout(() => simulateTyping(respondTo(cmd)), 300);
}

// === ADA Response Handling ===
function respondTo(cmd) {
  const command = cmd.trim().toLowerCase();
  if (!game.started || !game.active) return "The investigation hasn't started.";
  advanceTurn();

  if (command === "map") return "Map system active.";
  if (command === "inventory") return game.inventory.length
    ? "You have: " + game.inventory.join(", ")
    : "You have no items.";
  if (command === "end") {
    game.started = false;
    game.active = false;
    document.getElementById("ada-modal").style.display = "none";
    return "Investigation ended.";
  }

  return "Unknown command.";
}

// === Ghost Guessing System ===
function openGuess() {
  const list = document.getElementById("guess-list");
  list.innerHTML = "";
  Object.keys(ghostProfiles).forEach(ghost => {
    const btn = document.createElement("button");
    btn.textContent = ghost.toUpperCase();
    btn.onclick = () => {
      closeGuess();
      processGuess(ghost);
    };
    list.appendChild(btn);
  });
  document.getElementById("guess-popup").style.display = "block";
}

function closeGuess() {
  document.getElementById("guess-popup").style.display = "none";
}

function processGuess(guess) {
  if (!game.started) return;
  const correct = guess === game.ghost;
  const resultMsg = correct
    ? `‚úÖ Correct! The ghost was ${guess.toUpperCase()}.`
    : `‚ùå Incorrect. The ghost was ${game.ghost.toUpperCase()}.`;
  endGame(resultMsg);
}

// === Game End Logic ===
function endGame(message) {
  simulateTyping(message);
  document.getElementById("end-message").textContent = message;
  document.getElementById("end-screen").style.display = "block";
  game.started = false;
  game.active = false;
}

function startNewGame() {
  location.reload();
}

// === Evidence Tracking and Ghost Matching ===
function getPossibleGhosts() {
  return Object.entries(ghostProfiles)
    .filter(([ghost, profile]) =>
      game.evidence.every(ev => profile.evidence.includes(ev)))
    .map(([ghost]) => ghost);
}

function advanceTurn() {
  game.turn++;
  game.sanity = Math.max(0, game.sanity - 5);
  updateStatus();
  updateMimicForm();
  checkForHunt();
}

function updateStatus() {
  document.getElementById("turn-counter").textContent = game.turn;
  document.getElementById("sanity-bar").textContent = game.sanity;
}

// === Mimic Logic ===
function updateMimicForm() {
  if (game.ghost !== "the mimic") return;
  if (game.turn >= game.nextMimicShift) {
    const options = Object.keys(ghostProfiles).filter(g => g !== "the mimic");
    const newForm = options[Math.floor(Math.random() * options.length)];
    game.mimicForm = newForm;
    game.nextMimicShift = game.turn + 3 + Math.floor(Math.random() * 4);
    simulateTyping("Deo: I think the Mimic has changed again...");
  }
}

// === Sanity Based Hunt System ===
function checkForHunt() {
  if (!game.active || game.sanity > 40) return;
  const aggressive = ["demon", "oni", "moroi", "the mimic"];
  const chance = Math.random();
  const threshold = aggressive.includes(game.ghost) ? 0.3 : 0.1;
  if (chance < threshold) {
    if (game.inventory.includes("Crucifix")) {
      simulateTyping("‚ö° The ghost tried to hunt but your Crucifix protected you!");
      game.inventory = game.inventory.filter(i => i !== "Crucifix");
    } else if (game.inventory.includes("Smudge")) {
      simulateTyping("‚ö° You burned a Smudge Stick just in time! The ghost backed off.");
      game.inventory = game.inventory.filter(i => i !== "Smudge");
    } else {
      simulateTyping("üíÄ The ghost is hunting...");
      setTimeout(() => {
        simulateTyping("You were caught and killed.");
        endGame("‚ò†Ô∏è You died during a hunt. The ghost was " + game.ghost.toUpperCase() + ".");
      }, 1500);
    }
  }
}

// === Lightning Flash ===
function lightningFlash() {
  const flash = document.getElementById('flash-overlay');
  if (!flash) return;
  flash.style.opacity = '0.4';
  setTimeout(() => flash.style.opacity = '0', 100);
}
setInterval(() => setTimeout(lightningFlash, Math.random() * 2000), 10000);

// === Spirit Orb Canvas ===
const canvas = document.getElementById('orb-canvas');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

function createOrb() {
  return {
    x: Math.random() * width,
    y: Math.random() * height,
    vx: (Math.random() - 0.5) * 0.8,
    vy: (Math.random() - 0.5) * 0.8,
    baseRadius: Math.random() * 2 + 1,
    radius: 1,
    opacity: 0,
    fadeIn: true,
    tick: 0,
    changeInterval: Math.floor(Math.random() * 100 + 50)
  };
}

let orbs = Array.from({ length: 12 }, createOrb);
function animateOrbs() {
  ctx.clearRect(0, 0, width, height);
  orbs.forEach((orb, i) => {
    orb.tick++;
    orb.radius = orb.baseRadius + Math.sin(orb.tick / 30) * 0.5;
    orb.opacity += orb.fadeIn ? 0.01 : -0.001;
    if (orb.opacity >= 0.7) orb.fadeIn = false;
    if (orb.opacity <= 0.01) orbs[i] = createOrb();

    if (orb.tick % orb.changeInterval === 0) {
      const angle = Math.random() * 2 * Math.PI;
      const speed = Math.sqrt(orb.vx ** 2 + orb.vy ** 2);
      orb.vx = Math.cos(angle) * speed;
      orb.vy = Math.sin(angle) * speed;
    }

    orb.x += orb.vx;
    orb.y += orb.vy;
    if (orb.x <= 0 || orb.x >= width) orb.vx *= -1;
    if (orb.y <= 0 || orb.y >= height) orb.vy *= -1;

    ctx.beginPath();
    ctx.arc(orb.x, orb.y, orb.radius, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255,255,255,${orb.opacity})`;
    ctx.shadowColor = `rgba(255,255,255,${orb.opacity * 0.6})`;
    ctx.shadowBlur = 10 + orb.opacity * 10;
    ctx.fill();
  });
  requestAnimationFrame(animateOrbs);
}
animateOrbs();
window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
});
</script>
<footer>
  Shark‚ÄëBlades ‚Äî Phasma‚ÄëPhoney Prototype Web Build v1.4.3
</footer>
</body>
</html>
