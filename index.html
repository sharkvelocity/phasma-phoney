<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Phasma-Phoney</title>
<link href="./styles.css" rel="stylesheet"/>
<script src="./meta.js" type="module"></script>
</head>
<body>
<!-- Startup Logo -->
<div class="fullscreen black-bg fade-in" id="startup-logo">
<img alt="Phasmophoney Logo" class="startup-image" src="./logo.png"/>
</div>
<!-- Title Screen -->
<div class="screen hidden" id="title-screen">
<h1 class="glow-text">Phasma-Phoney</h1>
<button id="start-btn">Start Investigation</button>
<button id="memories-btn">Hall of Records</button>
<button id="settings-btn">Settings</button>
</div>
<!-- Game Screen -->
<div class="screen hidden" id="game-screen">
<div class="movement-ui" id="movement-controls">
      Move: 
      &lt;button id="move-north"&gt;North&lt;/button&gt;
      &lt;button id="move-south"&gt;South&lt;/button&gt;
      &lt;button id="move-east"&gt;East&lt;/button&gt;
      &lt;button id="move-west"&gt;West&lt;/button&gt;
    </div><div class="dialogue-box" id="narrator-box"></div>
<div class="button-container" id="action-buttons"></div>
<div id="journal-access">
<button id="open-journal">Journal</button>
<button id="open-map">Map</button>
<button id="return-van">Return to Van</button>
</div>
</div>
<!-- Journal -->
<div class="screen hidden" id="journal-screen">
<h2>Investigation Journal</h2>
<textarea id="journal-entry" placeholder="Write your notes here..."></textarea>
<button id="save-journal">Save</button>
<button id="close-journal">Close</button>
</div>
<!-- Map -->
<div class="screen hidden" id="map-screen">
<h2>Map</h2>
<div id="minimap-container"></div>
<button id="close-map">Close</button>
</div>
<!-- Memories -->
<div class="screen hidden" id="memory-screen">
<h2>Hall of Records</h2>
<div id="memory-log"></div>
<button id="back-to-title-1">Back</button>
</div>
<!-- Settings -->
<div class="screen hidden" id="settings-screen">
<h2>Settings</h2>
<p>Coming soon.</p>
<button id="back-to-title-2">Back</button>
</div>
<script>
    window.addEventListener('load', () => {
      const logo = document.getElementById('startup-logo');
      const titleScreen = document.getElementById('title-screen');

      setTimeout(() => {
        logo.classList.add('fade-out');
        setTimeout(() => {
          logo.style.display = 'none';
          titleScreen.classList.remove('hidden');
        }, 2500);
      }, 2500);
    });
  </script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const screens = {
    title: document.getElementById("title-screen"),
    game: document.getElementById("game-screen"),
    journal: document.getElementById("journal-screen"),
    map: document.getElementById("map-screen"),
    memory: document.getElementById("memory-screen"),
    settings: document.getElementById("settings-screen"),
    van: document.getElementById("van-screen")
  };

  function showScreen(targetId) {
    Object.values(screens).forEach(s => s?.classList.add("hidden"));
    screens[targetId]?.classList.remove("hidden");
  }

  document.getElementById("start-btn")?.addEventListener("click", () => showScreen("van"));
  document.getElementById("memories-btn")?.addEventListener("click", () => showScreen("memory"));
  document.getElementById("settings-btn")?.addEventListener("click", () => showScreen("settings"));
  document.getElementById("back-to-title-1")?.addEventListener("click", () => showScreen("title"));
  document.getElementById("back-to-title-2")?.addEventListener("click", () => showScreen("title"));
  document.getElementById("open-journal")?.addEventListener("click", () => showScreen("journal"));
  document.getElementById("close-journal")?.addEventListener("click", () => showScreen("game"));
  document.getElementById("open-map")?.addEventListener("click", () => showScreen("map"));
  document.getElementById("close-map")?.addEventListener("click", () => showScreen("game"));
  document.getElementById("return-van")?.addEventListener("click", () => showScreen("van"));
  document.getElementById("enter-investigation")?.addEventListener("click", () => showScreen("game"));

  // Placeholder for logic that connects to meta/mechanics/etc.
  console.log("Phasma-Phoney UI linked and ready.");
});
</script><script type="module">
import { startGameLoop } from './game.js';
import { initializeJournal } from './journal.js';
import { initializeMechanics } from './mechanics.js';

document.addEventListener("DOMContentLoaded", () => {
  // Run initialization functions on game start
  document.getElementById("enter-investigation")?.addEventListener("click", () => {
    initializeJournal();
    initializeMechanics();
    startGameLoop();
  });
});
</script><script type="module">
import { updateMap, movePlayer } from './map.js';

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("move-north")?.addEventListener("click", () => movePlayer('north'));
  document.getElementById("move-south")?.addEventListener("click", () => movePlayer('south'));
  document.getElementById("move-east")?.addEventListener("click", () => movePlayer('east'));
  document.getElementById("move-west")?.addEventListener("click", () => movePlayer('west'));
  updateMap(); // initialize
});
</script><div class="screen hidden" id="van-screen">
<h2>Investigation Van</h2>
<p>Prepare your loadout. Ready to enter?</p>
<button id="enter-investigation">Enter Investigation</button>
</div></body>
</html>
