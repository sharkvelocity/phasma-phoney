<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Camera Vision UI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: black;
      font-family: monospace;
    }

    body.on #screen-overlay {
      display: block;
    }

    #camera-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: #000;
    }

    #camera-scene {
      position: absolute;
      width: 150vw;
      height: 150vh;
      background: url('https://images.unsplash.com/photo-1606112219348-204d7d8b94ee?fit=crop&w=1600&q=80') center/cover no-repeat;
      transform: translate(-25vw, -25vh);
      transition: filter 0.3s ease;
    }

    /* Night Vision / Heat Vision Filters */
    .vision-night {
      filter: brightness(1.5) contrast(1.2) grayscale(0.2) hue-rotate(90deg);
    }

    .vision-heat {
      filter: contrast(2) saturate(3) hue-rotate(270deg);
    }

    #screen-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 10;
      display: none;
    }

    /* UI overlay effects: grid, grain, flicker */
    #screen-overlay::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image: repeating-linear-gradient(to bottom, rgba(0,255,0,0.05), rgba(0,255,0,0.05) 1px, transparent 1px, transparent 2px);
      mix-blend-mode: screen;
      animation: flicker 0.2s infinite alternate;
    }

    @keyframes flicker {
      from { opacity: 0.85; }
      to { opacity: 1; }
    }

    #controls {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 20;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .btn {
      background: rgba(0,0,0,0.6);
      color: lime;
      border: 1px solid lime;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 14px;
    }

    .zoom-indicator {
      position: absolute;
      bottom: 10px;
      right: 10px;
      color: lime;
      font-size: 14px;
      background: rgba(0,0,0,0.5);
      padding: 4px 8px;
      border: 1px solid lime;
      z-index: 20;
    }
  </style>
</head>
<body>

<div id="camera-container">
  <div id="camera-scene" class="vision-night"></div>
  <div id="screen-overlay"></div>

  <div id="controls">
    <button class="btn" onclick="togglePower()">Power</button>
    <button class="btn" onclick="toggleVision()">Toggle Vision</button>
    <button class="btn" onclick="zoomIn()">Zoom In</button>
    <button class="btn" onclick="zoomOut()">Zoom Out</button>
  </div>

  <div class="zoom-indicator" id="zoom-level">Zoom: 1x</div>
</div>

<script>
  let isOn = false;
  let currentVision = 'night';
  let zoom = 1;
  const maxZoom = 2.5;
  const minZoom = 0.5;

  const body = document.body;
  const scene = document.getElementById('camera-scene');
  const overlay = document.getElementById('screen-overlay');
  const zoomLabel = document.getElementById('zoom-level');

  function togglePower() {
    isOn = !isOn;
    body.classList.toggle('on', isOn);
  }

  function toggleVision() {
    if (!isOn) return;
    if (currentVision === 'night') {
      currentVision = 'heat';
      scene.classList.remove('vision-night');
      scene.classList.add('vision-heat');
    } else {
      currentVision = 'night';
      scene.classList.remove('vision-heat');
      scene.classList.add('vision-night');
    }
  }

  function zoomIn() {
    if (!isOn || zoom >= maxZoom) return;
    zoom = Math.min(maxZoom, zoom + 0.1);
    updateZoom();
  }

  function zoomOut() {
    if (!isOn || zoom <= minZoom) return;
    zoom = Math.max(minZoom, zoom - 0.1);
    updateZoom();
  }

  function updateZoom() {
    scene.style.transform = `scale(${zoom}) translate(${(-25/zoom)}vw, ${(-25/zoom)}vh)`;
    zoomLabel.textContent = `Zoom: ${zoom.toFixed(1)}x`;
  }

  // Parallax movement
  let originX = window.innerWidth / 2;
  let originY = window.innerHeight / 2;

  function updateParallax(x, y) {
    if (!isOn) return;
    const dx = (x - originX) / originX;
    const dy = (y - originY) / originY;
    const offsetX = dx * 10;
    const offsetY = dy * 10;
    scene.style.transform = `scale(${zoom}) translate(calc(${-25 / zoom}vw + ${offsetX}px), calc(${-25 / zoom}vh + ${offsetY}px))`;
  }

  document.addEventListener('mousemove', e => updateParallax(e.clientX, e.clientY));
  document.addEventListener('touchmove', e => {
    if (e.touches.length > 0) {
      updateParallax(e.touches[0].clientX, e.touches[0].clientY);
    }
  });

  // Allow scroll zooming
  document.addEventListener('wheel', e => {
    if (!isOn) return;
    if (e.deltaY < 0) zoomIn();
    else zoomOut();
  });
</script>

</body>
</html>
